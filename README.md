## Τελική Εργασία - Κορρές Μιχαήλ - sdi2000092

# compilation
1)Υπάρχει makefile.Το πλήθος των ορισμάτων εξαρτάται από το σύνολο των τμημάτων που συναποτελούν την Αττική οδό,καθώς οιχωρητικότηες των τμημάτων δίνονται από την γραμμή εντολών.
2)Αν δοθούν λιγότερα,υπάρχει μια default αρχικοποίηση των χωρητικοτήτων.
3)Υπάρχει δυνατότητα εκτέλεσης με valgrind από το makefile --- > "make val".
Καθώς στην τελική αυτή εργασία,έγινε έλεγχος για memory leaks,εν αντιθέσει με τις ασκήσεις που παρεδόθησαν.
Command: make
Execution Command: make run

# Vehicle
Α)Constructor:
    Δέχεται τιμές και αρχικοποιεί:
    1)Τον κόμβο εξόδου
    2)Το εν προκειμένω τμήμα επί του οποίου κινείται το όχημα
    3)Την "κατάσταση ετοιμότητας μετακίνησης"
Β)set_segment:
    Χρησιμοποιείται κατά την είσοδο του οχήματος από τα διόδια της εισόδου,στο τμήμα και αναθέτει την "ταυτότητα" του τμήματος.

# Toll
Α)Constructor:
    Δέχεται τιμές και:
    1)Αξιοποιώντας τον ADT "Queue",υλοποιημένο από μια απλά συνδεδεμένη λίστα με Κεφαλή και Ουρά
    ---> Θα δημιουργήσει και θα αποθηκεύσει,εν τέλει,ένα σύνολο οχημάτων.
    2)Ο τρόπος ---> Loop: Για i από 0 εώς τάδε - 1{
        α)Δημιούργησε έναν ελεγχόμενα τυχαίο αριθμό "ταυτότητας" κόμβου για έξοδο.
        β)Δημιούργησε ένα όχημα με όρισμα τον τυχαίο αριθμό.(Το πεδίο curr_seg = - 1)
        γ)Κάνε το εισαγωγή στην ουρά με την enter()
    }
    3)Αρχικοποιεί το seg_id πεδίο της toll.

B) enter_the_toll:
    Ομοίως με τον constructor,δέχεται σαν όρισμο έναν ακέραιο που υποδεικνύει πόσα οχήματα θα "εισέλθουν" στο διόδιο,(Δηλαδή θα δημιουργηθούν με την παραπάνω διαδικασία και θα προστεθούν ομοίως),
    ωστόσο εισάγει ένα τυχαίο αριθμό οχημάτων μεταξύ: [input_no,input_no / 2]

Γ) exit_to_the_seg:
    Εξάγει ένα όχημα από το διόδιο,καταστρέφοντας τον κόμβο στον οποίο περιεχόταν αυτό και επιστρέφοντας τον δείκτη του οχήματος.

Δ) has_a_worker:
    1)Virtual συνάρτηση
    2)Τελικά,δεν χρησιμοποιείται σαν λειτουργικότητα,αλλά έχει πιο πολύ ρόλο διάκρισης μεταξύ των διοδίων σε νοητικό επίπεδο.


# Queue
    Υλοποίηση του ADT Queue μέσω Linked List

# Entrance
A) Constructor:
    1)Δέχεται την "στιγμιαία" χωρητικότητα του τμήματος,το "Κ",το id του τμήματος και αρχικοποιεί με ένα τυχαίο αριθμό α)από 4 εώς 9 το σύνολο των διοδίων με υπάλληλο και β)από 3 εώς 5 το σύνολο των διοδίων χωρίς υπάλληλο,
    με βάση,περίπου,τα δεδομένα της real-world Αττικής οδού.
    2)Πριν δημιουργήσει τα διόδια,παράγει έναν αριθμό οχημάτων για τα διόδια ως εξής:
        Πολλαπλασιάζει με συντελεστή 0.4 για με υπάλληλο ή 1.1 για χωρίς υπάλληλο την χωρητικότητα του τμήματος και διαιρεί με τον συνολικό αριθμό του κάθε τύπου διοδίων αντίστοιχα.
    3)Δημιουργεί τα διόδια με τους παραπάνω,παραγόμενους αριθμούς και το id του τμήματος.

Β) enter:
    Με την ίδια διαδικασία,εισάγει οχήματα στα διόδια

Γ) insert_from_tolls:
    1)Δέχεται σαν ορίσματα:
        α)Ένα πίνακα διοδίων
        β)Το πλήθος των στοιχείων του
        γ)Ένα μετρητή
        δ)Ένα index
    2)Καθώς indexΕ[0 , πλήθος - 1],δύναται και εφαρμόζει exit_to_the_seg στο διόδιο του πίνακα που υποδεικνύεται από τον δείκτη.
    3)Αυξάνει το index κατά 1 και αν αυτός έδειχνε στο τελευταίο στοιχείο,τότε τον θέτει να δείχνει στο 1ο.
    4)Εάν νωρίτερα η exit_to_the_seg κατάφερε να επιστρέψει όχημα,τότε το εισάγει στο τμήμα(insert_vehicle,βλέπε Segment) και αυξάνει τον μετρητή.

Δ) operate:
    1)Περιέχει επεξηγηματικά σχόλια του τρόπου λειτουργίας
    2)Αρχικά,ορίζει δύο μετρητές και δύο indexes που θα περνάνε ως ορίσματα στη συνέχεια στην insert_from_tolls.
    3)Αν η χωρητικότητα είναι μικρότερη από 3Κ(flag = false) τότε σίγουρα θα εμφανιστεί μήνυμα "Καθυστερήσεις στην είσοδο..."
    4)Αν ισχύει το παραπάνω(flag == false) τότε θα λαμβάνονται 1 όχημα από διόδιο με υπάλληλο,2 οχήματα από διόδια χωρίς,δεδομένου ότι:
        α)Υπάρχουν διόδια κάθε φορά αντίστοιχα και μέχρις ότου να φτάσουμε το "άνω φράγμα".
    και μειώνεται το Κ.
    5)Αλλιώς,πάει να πει ότι θα φτάσουμε τα 3Κ οπότε χωρίς πρόβλημα σωστής κατανομής των αποσπάσεων των οχημάτων για αναλογικό αποσυμφορισμό,εξάγουμε πρώτα οχήματα από τα διόδια με υπάλληλο και μετά οχήματα από διόδια χωρίς υπάλληλο,πάντα δεδομένου σε κάθε περίπτωση ότι υπάρχουν διόδια με οχήματα.
    Ύστερα,ακόμη και αν φτάσαμε το "άνω φράγμα" -εν προκειμένω το 3Κ- ελέγχεται αν αυτό έγινε με το σωστό τρόπο,δηλαδή αν έχουμε Κ οχήματα από τα διόδια με υπάλληλο και 2Κ από τα διόδια χωρίς υπάλληλο και όχι κάτι διαφορετικό.(Όπως εξτρεμιστικό παράδειγμα: Αντί για Κ + 2Κ ---> 0 + 3Κ) και ανάλογα αυξάνεται ή μειώνεται το Κ.
    6)Τέλος,εισέρχονται στα διόδια οχήματα με βάση την "στιγμιαία χωρητικότητα του τμήματος" και
    7)Επιστρέφεται η τιμή με βάση την οποία θα εκτυπωθεί το μήνυμα "Καθυστερήσεις στην είσοδο"

# Segment
    Α)Constructor:
        1)Δέχεται τη χωρητικότητά του,το "Κ",το id του καθώς και δείκτες σε προηγούμενο και επόμενο ενδεχομένως κόμβο.
        2)Επιτελεί παρόμοια λειτουργία με τον constructor της Entrance ---> Δημιουργεί τον τυχαίο αριθμό μεταξύ 0 και χωρητικότητα / 4 για το σύνολο των οχημάτων που θα δημιουργηθούν.Ύστερα τα δημιουργεί και σε μια λίστα,αυτή τη φορά, τα εισάγει.
    Β)exit:
        Όσα οχήματα είναι ready και έφτασαν στην έξοδό τους,εγκαταλείπουν τον αυτοκινητόδρομο.
    Γ)insert_vehicle:
        Εισάγει ένα όχημα στη λίστα των οχημάτων του τμήματος
    Δ)pass:
        Το 1ο όχημα που είναι έτοιμο επιστρέφεται(με καταστροφή του κόμβου φύλαξής του)
    Ε)set_ready:
        θέτει σε κατάσταση ετοιμότητας ένα ποσοστό των οχημάτων που περιέχει
    ΣΤ)operate:
        1)Αν δεν πρόκειται για το τμήμα 0,έξοδος των οχημάτων που προβλέπονται από τον αυτοκινητόδρομο.
        2)Αν δεν είμαστε στο τελευταίο τμήμα,τότε πέρασμα των οχημάτων στο επόμενο τμήμα ως εξής:
        Αν το επόμενο τμήμα δε χωράει όλα τα έτοιμα οχήματα του αρχικού περνάνε όσα γίνεται,
        Αλλιώς περνάνε όλα.
        3)Ύστερα,κάποια οχήματα εισέρχονται στο τμήμα μέσω της εισόδου(entrance) καλώντας την συνάρτηση enter που μας δίνει και πληροφορία για την εκτύπωση μηνύματος.
        4)Κάποια οχήματα ετοιμάζονται να προχωρήσουν.
        5)Τέλος,εκτυπώνονται τα ανάλογα,μηνύματα.

# List
    Σε μια αντιστοιχία με τις συναρτήσεις της Segment:
    Α)enter:
        Εισάγονται οχήματα μέσω της Ουράς(tail:πίσω μέρος) στην λίστα.
    Β)exit:
        Υλοποιεί την περιγραφή της exit της Segment.
    Γ)pass:
        Επιστρέφει το 1ο έτοιμο όχημα.
    Δ)set_ready:
        θέτει σε κατάσταση ετοιμότητας ένα ποσοστό των οχημάτων που περιέχει

-----> Να σημειωθεί πως αν και τα οχήματα εισέρχονται μόνο από το πίσω μέρος,δεν εξέρχονται μόνο μέσω της κεφαλής(head: μπροστινό μέρος) <=> Δεν υλοποιείται ο ADT Queue εδώ

# Attica
    Constructor:
        Δημιουργεί τα segs,μεταχειρίζοντας προσεκτικά το index:0 και το τελυταίο.

------> Να σημειωθεί πως υπάρχουν στατικά μέλη κλάσεων,τα οποία αρχικοποιούνται μέσω των αντίστοιχων συναρτήσεων με μια λειτουργικότητα αλυσίδας πχ Attica.set_NSegs() ---> Segment.set_NSegs() ---> ....